(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{YanU:function(t,e,o){"use strict";o.r(e);var r=o("ofXK"),i=o("3Pt+"),a=o("tyNb"),c=o("fXoL");let n=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-posts"]],decls:1,vars:0,template:function(t,e){1&t&&c.Nb(0,"router-outlet")},directives:[a.h],styles:[""]}),t})();var s=o("kt0X"),b=o("/MEz"),p=o("1oMX");const{selectAll:u}=p.b.getSelectors(),d=Object(s.o)("posts"),l=Object(s.q)(d,u),m=t=>Object(s.q)(d,e=>e.entities[t]);var f=o("tgey"),h=o("hZJE"),v=o("+QYo"),g=o("bTqV"),R=o("NFeN"),Q=o("MutI"),k=o("FKr1");const B=function(t){return["/","posts",t]};function y(t,e){if(1&t&&(c.Rb(0,"mat-list-item",9),c.Rb(1,"mat-icon",10),c.vc(2,"event_note"),c.Qb(),c.Rb(3,"div",11),c.vc(4),c.Qb(),c.Rb(5,"div",12),c.vc(6),c.ec(7,"date"),c.Qb(),c.Qb()),2&t){const t=e.$implicit;c.ic("routerLink",c.kc(5,B,t.id)),c.Bb(4),c.wc(t.title),c.Bb(2),c.wc(c.fc(7,3,t.date))}}const F=function(){return["/","posts","create"]};function q(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div"),c.Rb(1,"app-page-header"),c.Nb(2,"app-page-header-back",1),c.Rb(3,"app-page-header-title",2),c.vc(4,"Posts List"),c.Qb(),c.Rb(5,"button",3),c.Zb("click",(function(){return c.oc(t),c.dc().onRefresh()})),c.Rb(6,"mat-icon"),c.vc(7,"refresh"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",4),c.Rb(9,"button",5),c.Rb(10,"mat-icon"),c.vc(11,"add"),c.Qb(),c.Qb(),c.Qb(),c.Rb(12,"div",6),c.Rb(13,"mat-list",7),c.uc(14,y,8,7,"mat-list-item",8),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=e.ngIf;c.Bb(2),c.ic("link","/"),c.Bb(1),c.ic("addons",t.length),c.Bb(6),c.ic("routerLink",c.jc(4,F)),c.Bb(5),c.ic("ngForOf",t)}}let N=(()=>{class t{constructor(t){this.store=t,t.dispatch(Object(b.g)()),this.posts$=this.store.pipe(Object(s.t)(l))}onRefresh(){this.store.dispatch(Object(b.g)())}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(s.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-posts-list"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to homepage",3,"link"],[3,"addons"],["mat-icon-button","","color","primary","aria-label","Reload",1,"ml-auto",3,"click"],[1,"floating-action"],["mat-fab","","color","primary","aria-label","Add new item",3,"routerLink"],[1,"page-content"],[1,"pt-0"],["mat-ripple","",3,"routerLink",4,"ngFor","ngForOf"],["mat-ripple","",3,"routerLink"],["mat-list-icon","","color","accent"],["mat-line",""],["mat-line","",1,"post-item__date"]],template:function(t,e){1&t&&(c.uc(0,q,15,5,"div",0),c.ec(1,"async")),2&t&&c.ic("ngIf",c.fc(1,1,e.posts$))},directives:[r.l,f.a,h.a,v.a,g.a,R.a,a.d,Q.a,r.k,Q.c,k.k,Q.b,k.f],pipes:[r.b,r.e],styles:[".post-item__date[_ngcontent-%COMP%]{opacity:.5}"]}),t})();var w=o("qXsx"),I=o("Wp6s"),P=o("kmnG"),O=o("qFsG"),C=o("iadO");function j(t,e){1&t&&(c.Rb(0,"mat-error"),c.vc(1," Date of Post is required "),c.Qb())}function L(t,e){1&t&&(c.Rb(0,"mat-error"),c.vc(1," Title of Post is required "),c.Qb())}function M(t,e){1&t&&(c.Rb(0,"mat-error"),c.vc(1," Body of Post is required "),c.Qb())}const D=function(){return["/","posts"]};let G=(()=>{class t{constructor(t,e,o){this.formBuilder=t,this.store=e,this.notification=o}ngOnInit(){this.postForm=this.createPostCreateFormGroup()}onPostFormSubmit(){this.postForm.valid?this.store.dispatch(Object(b.a)({post:this.postForm.value})):this.notification.showError("Form contains errors. Fix it and try again.")}createPostCreateFormGroup(){return this.formBuilder.group({date:[new Date,i.q.required],title:["",i.q.required],body:["",i.q.required]})}canDeactivate(){return!this.postForm.dirty}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(i.c),c.Mb(s.h),c.Mb(w.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-post-create"]],decls:35,vars:13,consts:[["ariaLabel","Back to Posts List",3,"link"],[1,"page-content"],[1,"squeeze"],[3,"formGroup","submit"],[1,"w-100"],["matInput","",3,"formControlName","matDatepicker"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["matInput","","maxlength","40",3,"formControlName"],["title",""],["align","end"],["matInput","","rows","10",3,"formControlName"],[1,"text-right"],["mat-button","","type","button",3,"routerLink"],["mat-flat-button","","color","primary","type","submit"]],template:function(t,e){if(1&t&&(c.Rb(0,"div"),c.Rb(1,"app-page-header"),c.Nb(2,"app-page-header-back",0),c.Rb(3,"app-page-header-title"),c.vc(4,"Post Create"),c.Qb(),c.Qb(),c.Rb(5,"div",1),c.Rb(6,"div",2),c.Rb(7,"mat-card"),c.Rb(8,"form",3),c.Zb("submit",(function(){return e.onPostFormSubmit()})),c.Rb(9,"mat-form-field",4),c.Rb(10,"mat-label"),c.vc(11,"Choose a date"),c.Qb(),c.Nb(12,"input",5),c.Nb(13,"mat-datepicker-toggle",6),c.Nb(14,"mat-datepicker",null,7),c.uc(16,j,2,0,"mat-error",8),c.Qb(),c.Rb(17,"mat-form-field",4),c.Rb(18,"mat-label"),c.vc(19,"Post Title"),c.Qb(),c.Nb(20,"input",9,10),c.uc(22,L,2,0,"mat-error",8),c.Rb(23,"mat-hint",11),c.vc(24),c.Qb(),c.Qb(),c.Rb(25,"mat-form-field",4),c.Rb(26,"mat-label"),c.vc(27,"Body"),c.Qb(),c.Nb(28,"textarea",12),c.uc(29,M,2,0,"mat-error",8),c.Qb(),c.Rb(30,"div",13),c.Rb(31,"button",14),c.vc(32,"Cancel"),c.Qb(),c.Rb(33,"button",15),c.vc(34,"Submit"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t){const t=c.nc(15),o=c.nc(21);c.Bb(2),c.ic("link","/posts"),c.Bb(6),c.ic("formGroup",e.postForm),c.Bb(4),c.ic("formControlName","date")("matDatepicker",t),c.Bb(1),c.ic("for",t),c.Bb(3),c.ic("ngIf",e.postForm.get("date").hasError("required")),c.Bb(4),c.ic("formControlName","title"),c.Bb(2),c.ic("ngIf",e.postForm.get("title").hasError("required")),c.Bb(2),c.xc("",o.value.length," / 40"),c.Bb(4),c.ic("formControlName","body"),c.Bb(1),c.ic("ngIf",e.postForm.get("body").hasError("required")),c.Bb(2),c.ic("routerLink",c.jc(12,D))}},directives:[f.a,h.a,v.a,I.a,i.r,i.l,i.e,P.b,P.f,O.b,i.b,C.b,i.k,i.d,C.d,P.g,C.a,r.l,i.g,P.e,g.a,a.d,P.a],styles:[""]}),t})();var x=o("quSY");function E(t,e){1&t&&(c.Rb(0,"mat-error"),c.vc(1," Date of Post is required "),c.Qb())}function S(t,e){1&t&&(c.Rb(0,"mat-error"),c.vc(1," Title of Post is required "),c.Qb())}function $(t,e){1&t&&(c.Rb(0,"mat-error"),c.vc(1," Body of Post is required "),c.Qb())}const T=function(){return["/","posts"]};function Z(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div"),c.Rb(1,"app-page-header"),c.Nb(2,"app-page-header-back",1),c.Rb(3,"app-page-header-title",2),c.ec(4,"date"),c.vc(5),c.Qb(),c.Rb(6,"button",3),c.Zb("click",(function(){c.oc(t);const o=e.ngIf;return c.dc().delete(o.id)})),c.Rb(7,"mat-icon"),c.vc(8,"delete"),c.Qb(),c.Qb(),c.Qb(),c.Rb(9,"div",4),c.Rb(10,"div",5),c.Rb(11,"mat-card"),c.Rb(12,"form",6),c.Zb("submit",(function(){return c.oc(t),c.dc().onPostFormSubmit()})),c.Rb(13,"mat-form-field",7),c.Rb(14,"mat-label"),c.vc(15,"Choose a date"),c.Qb(),c.Nb(16,"input",8),c.Nb(17,"mat-datepicker-toggle",9),c.Nb(18,"mat-datepicker",null,10),c.uc(20,E,2,0,"mat-error",0),c.Qb(),c.Rb(21,"mat-form-field",7),c.Rb(22,"mat-label"),c.vc(23,"Post Title"),c.Qb(),c.Nb(24,"input",11,12),c.uc(26,S,2,0,"mat-error",0),c.Rb(27,"mat-hint",13),c.vc(28),c.Qb(),c.Qb(),c.Rb(29,"mat-form-field",7),c.Rb(30,"mat-label"),c.vc(31,"Body"),c.Qb(),c.Nb(32,"textarea",14),c.uc(33,$,2,0,"mat-error",0),c.Qb(),c.Rb(34,"div",15),c.Rb(35,"button",16),c.vc(36,"Cancel"),c.Qb(),c.Rb(37,"button",17),c.vc(38,"Submit"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=e.ngIf,o=c.nc(19),r=c.nc(25),i=c.dc();c.Bb(2),c.ic("link","/posts"),c.Bb(1),c.ic("addons",c.fc(4,14,t.date)),c.Bb(2),c.wc(t.title),c.Bb(7),c.ic("formGroup",i.postForm),c.Bb(4),c.ic("formControlName","date")("matDatepicker",o),c.Bb(1),c.ic("for",o),c.Bb(3),c.ic("ngIf",i.postForm.get("date").hasError("required")),c.Bb(4),c.ic("formControlName","title"),c.Bb(2),c.ic("ngIf",i.postForm.get("title").hasError("required")),c.Bb(2),c.xc("",r.value.length," / 40"),c.Bb(4),c.ic("formControlName","body"),c.Bb(1),c.ic("ngIf",i.postForm.get("body").hasError("required")),c.Bb(2),c.ic("routerLink",c.jc(16,T))}}let _=(()=>{class t{constructor(t,e,o,r){this.activatedRoute=t,this.formBuilder=e,this.store=o,this.notification=r,this.subscriptions=new x.a}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.post$=this.store.pipe(Object(s.t)(m(t.id))),this.subscriptions.add(this.post$.subscribe(e=>{this.postForm=this.createPostFormGroup(e),e||this.store.dispatch(Object(b.i)({id:t.id}))}))})}onPostFormSubmit(){this.postForm.valid?this.store.dispatch(Object(b.m)({updatePost:{id:this.postForm.controls.id.value,changes:this.postForm.value}})):this.notification.showError("Form contains errors. Fix it and try again.")}delete(t){this.store.dispatch(Object(b.d)({id:t}))}createPostFormGroup(t){return this.formBuilder.group({id:[t?t.id:null,i.q.required],date:[t?t.date:new Date,i.q.required],title:[t?t.title:"",i.q.required],body:[t?t.body:"",i.q.required]})}canDeactivate(){return!this.postForm.dirty}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(a.a),c.Mb(i.c),c.Mb(s.h),c.Mb(w.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-post-update"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to Posts List",3,"link"],[3,"addons"],["mat-icon-button","","color","warn","aria-label","Delete Post",1,"ml-auto",3,"click"],[1,"page-content"],[1,"squeeze"],[3,"formGroup","submit"],[1,"w-100"],["matInput","",3,"formControlName","matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","maxlength","40",3,"formControlName"],["title",""],["align","end"],["matInput","","rows","10",3,"formControlName"],[1,"text-right"],["mat-button","","type","button",3,"routerLink"],["mat-flat-button","","color","primary","type","submit"]],template:function(t,e){1&t&&(c.uc(0,Z,39,17,"div",0),c.ec(1,"async")),2&t&&c.ic("ngIf",c.fc(1,1,e.post$))},directives:[r.l,f.a,h.a,v.a,g.a,R.a,I.a,i.r,i.l,i.e,P.b,P.f,O.b,i.b,C.b,i.k,i.d,C.d,P.g,C.a,i.g,P.e,a.d,P.a],pipes:[r.b,r.e],styles:[""]}),t})();var J=o("IzEk");const X=function(t){return["/","posts",t,"update"]};function z(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div"),c.Rb(1,"app-page-header"),c.Nb(2,"app-page-header-back",1),c.Rb(3,"app-page-header-title",2),c.ec(4,"date"),c.vc(5),c.Qb(),c.Rb(6,"button",3),c.Rb(7,"mat-icon"),c.vc(8,"edit"),c.Qb(),c.Qb(),c.Rb(9,"button",4),c.Zb("click",(function(){c.oc(t);const o=e.ngIf;return c.dc().delete(o.id)})),c.Rb(10,"mat-icon"),c.vc(11,"delete"),c.Qb(),c.Qb(),c.Qb(),c.Rb(12,"div",5),c.vc(13),c.Qb(),c.Qb()}if(2&t){const t=e.ngIf;c.Bb(2),c.ic("link","/posts"),c.Bb(1),c.ic("addons",c.fc(4,5,t.date)),c.Bb(2),c.wc(t.title),c.Bb(1),c.ic("routerLink",c.kc(7,X,t.id)),c.Bb(7),c.xc(" ",t.body," ")}}let K=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.store=e}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.post$=this.store.pipe(Object(s.t)(m(t.id))),this.post$.pipe(Object(J.a)(1)).subscribe(e=>!e&&this.store.dispatch(Object(b.i)({id:t.id})))})}delete(t){this.store.dispatch(Object(b.d)({id:t}))}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(a.a),c.Mb(s.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-post-details"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to Posts List",3,"link"],[3,"addons"],["mat-icon-button","","color","primary","aria-label","Edit Post",1,"ml-auto",3,"routerLink"],["mat-icon-button","","color","warn","aria-label","Delete Post",3,"click"],[1,"page-content"]],template:function(t,e){1&t&&(c.uc(0,z,14,9,"div",0),c.ec(1,"async")),2&t&&c.ic("ngIf",c.fc(1,1,e.post$))},directives:[r.l,f.a,h.a,v.a,g.a,a.d,R.a],pipes:[r.b,r.e],styles:[""]}),t})();var Y=o("udBE");const A=[{path:"",component:n,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:N},{path:"create",component:G,canDeactivate:[Y.a]},{path:":id/update",component:_,canDeactivate:[Y.a]},{path:":id",component:K}]}];let U=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[a.g.forChild(A)],a.g]}),t})();var V=o("PCNd");o.d(e,"PostsModule",(function(){return W}));let W=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[r.c,U,V.a,i.o]]}),t})()}}]);